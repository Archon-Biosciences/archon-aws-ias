# Submit a NextFlow scripts

In order to submit a sample nextflow script, run the following script after deploying the batchfold architecture:

```bash
python submit nextflow_job.py <ORCHESTRATOR_COMPUTE_ENVIRONMENT> <nextflow_job_definition>
```

Where `<ORCHESTRATOR_COMPUTE_ENVIRONMENT>` is the ID for your Batch compute environment (e.g. `CPUOnDemandJobQueue-AbcdeFg12345`) and `<NEXTFLOW_JOB_DEFINITION>` is the ID for your job definition (e.g. `NextflowJobDefinition-894c4271a53b004`). You can find both of these on the AWS Batch or CloudFormation consoles.

This will run a pipeline that first runs RFDesign, followed by ESMFold on each of the structures generated by RFDesign. Please note that prior to running this script, you will first have to retrieve the nextflow orchestrator and nextflow job definition from the AWS Batch console.

Note that you can construct your own Nextflow pipelines as well. When doing so, you will need to to first place code dependencies in S3, which will be retrieved by the Nextflow orchestrator. See the script `nextflow_job.py` for more details.
